<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Math Captcha</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  </head>
  <body>
    <form class="section">
      <div class="container">
        <p id="question" class="title"></p>
        <div class="field">
          <div class="control">
            <input type="text" id="answer" class="input">
          </div>
        </div>
        <div class="field">
          <div class="control">
            <button id="submit" class="button is-primary">Submit</button>
          </div>
        </div>
        <h4 id="message" class="help"></h4>
        <button id="tryAgain" class="button is-primary" style="margin-top:10px; display:none;">Try Again</button>
      </div>
    </form>
    <script>
      const question = document.getElementById("question");
      const num1 = Math.floor(Math.random() * 10);
      const num2 = Math.floor(Math.random() * 10);
      const operators = ["+", "-", "*", "/"];
      const operator = operators[Math.floor(Math.random() * 4)];
      question.innerHTML = `What is ${num1} ${operator} ${num2} = `;

      document.getElementById("submit").addEventListener("click", function(event) {
        event.preventDefault();
        checkAnswer();
      });

      document.getElementById("tryAgain").addEventListener("click", function() {
        location.reload();
      });

      function checkAnswer() {
        const answer = document.getElementById("answer").value;
        const message = document.getElementById("message");
        const tryAgain = document.getElementById("tryAgain");
        if (operator == "+" && answer == num1 + num2 ||
            operator == "-" && answer == num1 - num2 ||
            operator == "*" && answer == num1 * num2 ||
            operator == "/" && answer == num1 / num2) {
          message.innerHTML = "Correct! ðŸŽ‰";
          message.classList.add("is-success");
          message.classList.remove("is-danger");
        } else {
          message.innerHTML = "Incorrect. Try again. ðŸ˜•";
          message.classList.add("is-danger");
          message.classList.remove("is-success");
        }
        tryAgain.style.display = "inline-block";
      }
    </script>
  </body>
</html>
